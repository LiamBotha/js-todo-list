(()=>{"use strict";const e=(e,t,n,d)=>({title:e,description:t,dueDate:n,priority:d,displayTodo:()=>{let i=document.createElement("div"),r=document.createElement("input"),a=document.createElement("h4"),l=document.createElement("h5"),p=document.createElement("h6");return r.type="checkbox",a.appendChild(r),i.appendChild(a),i.appendChild(l),i.appendChild(p),a.innerHTML+="title: "+e,l.textContent="desc: "+t,p.textContent="due: "+n+", priority: "+d,i.style="background: rgb(255, 238, 109); padding: 1rem; width: 275px; min-height: 150px; border: 1px solid #cfcfcf; box-shadow: 2px 2px 4px rgba(0,0,0,0.3); margin: 1rem 0",i}}),t=(t,n)=>{let d=[],i=!1,r=n;return{name:t,itemList:d,appendItem:e=>{d.push(e)},renderList:function(n,a){let l=document.createElement("div"),p=document.createElement("h3"),o=document.createElement("input"),c=document.createElement("button");c.textContent="X",c.style="display: block; position: absolute; top: 5px; right: 5px; color: red; background: transparent; border: none; margin: 0 0 0 auto; font-size: 1.2rem",c.addEventListener("click",(e=>{n.splice(a,1),dispatchEvent(r)})),l.appendChild(c),0==i?(p.textContent=t,p.addEventListener("click",(e=>{i=!0,dispatchEvent(r)})),l.appendChild(p)):(o.value=t,o.style="font-size: 1.2rem; font-weight: bold; background: transparent; color: white; border: 1px solid white; margin: 16px 0",o.addEventListener("blur",(e=>{i=!1,t=e.target.value,dispatchEvent(r)})),l.appendChild(o));for(let e=0;e<d.length;e++){let t=d[e].displayTodo();l.appendChild(t)}let s=this,m=document.createElement("button");return m.textContent="Add Item +",m.addEventListener("click",(t=>{s.appendItem(e("new","test desc new",2021,1));let n=t.target.parentNode;n.textContent="",n.replaceWith(s.renderList())})),l.appendChild(m),l.style="position: relative; color: black; padding: 1rem; margin: 0.5rem 0 0.5rem 0.7rem; width: max-content; height: 0%; background: white",m.style="display: block; margin: 0 0 0 auto",l}}},n=document.querySelector("#container");(()=>{let d=[],i=new Event("refresh"),r=document.createElement("div"),a=document.createElement("div"),l=t("default",i);l.appendItem(e("Hello","test desc H",2020,1)),l.appendItem(e("1","test desc 1",2020,2)),l.appendItem(e("2","test desc 2",2020,2)),d.push(l);let p=t("spare",i);p.appendItem(e("a","test desc a",2020,1)),p.appendItem(e("B","test desc b",2020,2)),p.appendItem(e("c","test desc c",2020,3)),p.appendItem(e("D","test desc d",2020,4)),d.push(p),addEventListener("refresh",(()=>{console.log("refresh"),o()})),a.style="position: fixed; top: 0; left: 0; width: 250px; height: 100vh; background: #3f3f3f",r.style="margin-left: 250px;",n.appendChild(a),n.appendChild(r);const o=()=>{r.textContent="";let e=document.createElement("div");e.style="display: flex; flex-direction: row;";for(let t=0;t<d.length;t++){let n=d[t].renderList(d,t);e.appendChild(n)}r.appendChild(e);let n=document.createElement("button");n.textContent="Add List +",n.addEventListener("click",(e=>{let n=t("New List",i);d.push(n),o()})),r.appendChild(n)};o()})()})();